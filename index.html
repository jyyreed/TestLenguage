<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traductor Web</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        button {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Traductor Web</h1>
    <table id="english-table">
        <thead>
            <tr>
                <th>Inglés</th>
                <th>Español</th>
                <th>Chino</th>
                <th>Pronunciación</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aquí se llenarán las filas dinámicamente -->
        </tbody>
    </table>

    <script>
        // Función para obtener los datos de la hoja de cálculo de Google
        async function fetchData() {
            const response = await fetch('https://script.google.com/macros/s/AKfycbx1SaK0Ibh8vxGDPWtCWMJrfSOhZw9niZ9ajHOz6QG7o_4pcknl8c6N0dfOv66edSCsEA/exec');
            const data = await response.text();

            // Dividir los datos en un array por líneas
            const lines = data.split("\n");

            const tableBody = document.querySelector("#english-table tbody");

            lines.forEach(line => {
                const [english, spanish, chinese] = line.split("\t");

                if (english && spanish && chinese) {
                    // Crear una nueva fila en la tabla
                    const row = document.createElement("tr");

                    // Colocar las palabras
                    row.innerHTML = `
                        <td>${english}</td>
                        <td>${spanish}</td>
                        <td>${chinese}</td>
                        <td><button onclick="speakWord('${english}', 'en')">Pronunciar (Inglés)</button></td>
                    `;

                    tableBody.appendChild(row);
                }
            });
        }

        // Función para reproducir la pronunciación de la palabra usando la API de Google Translate
        function speakWord(word, language) {
            const audio = new Audio(`https://translate.google.com/translate_tts?ie=UTF-8&q=${word}&tl=${language}&client=gtx`);
            audio.play();
        }

        // Ejecutar fetchData cuando la página cargue
        window.onload = fetchData;
    </script>
</body>
</html>
